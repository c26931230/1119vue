{"version":3,"file":"js/624.259dbe28.js","mappings":"mMACOA,MAAM,W,GAGyCC,EAAAA,EAAAA,GAAM,mB,SAQ1CD,MAAM,oB,gHAXtBE,EAAAA,EAAAA,IAkCM,MAlCNC,EAkCM,EAjCJF,EAAAA,EAAAA,GAsBO,cArBLA,EAAAA,EAAAA,GAOS,wBAPD,cACE,gBAAsC,SAA/BG,KAAK,O,qCAAgBC,EAAAA,OAAM,I,iBAANA,EAAAA,UAAUC,GAAM,QACjC,OAClB,gBAAqC,SAA9BF,KAAK,S,qCAAkBC,EAAAA,IAAG,I,iBAAHA,EAAAA,QAAG,QAAI,MAAC,gBAGrC,SAFAD,KAAK,S,qCACIC,EAAAA,IAAG,I,iBAAHA,EAAAA,SAGGA,EAAAA,OAAI,WAApBH,EAAAA,EAAAA,IAA2CK,EAAAA,GAAAA,CAAAC,IAAAA,GAAA,UAArB,eAAU,kBAChCN,EAAAA,EAAAA,IAWM,MAXNO,EAWM,gBAVJP,EAAAA,EAAAA,IASMK,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IATuBG,EAAAA,SAAO,CAAvBC,EAAMC,M,WAAnBV,EAAAA,EAAAA,IASM,OATiCM,IAAKG,EAAKE,GAAIb,MAAM,Q,EACzDC,EAAAA,EAAAA,GAAuB,kBAAjBU,EAAKG,OAAK,IAChBb,EAAAA,EAAAA,GAAiD,OAA3Cc,IAAKJ,EAAKK,MAAcC,IAAKN,EAAKG,O,WACxCb,EAAAA,EAAAA,GAAoC,kBAA9BS,EAAAA,WAAWC,EAAKO,QAAS,IAAC,IAChCjB,EAAAA,EAAAA,GAIM,aAHJA,EAAAA,EAAAA,GAAwD,UAA3CkB,QAAK,GAAET,EAAAA,YAAYE,EAAOD,IAAO,IAAC,eAC/CV,EAAAA,EAAAA,GAAsD,SAA/CG,KAAK,SAASgB,IAAI,I,yBAAaf,EAAAA,MAAMO,GAAK,G,iBAAXP,EAAAA,MAAMO,OAC5CX,EAAAA,EAAAA,GAAiD,UAAxCkB,QAAK,GAAET,EAAAA,SAASE,EAAOD,IAAO,IAAC,Y,YAKhDV,EAAAA,EAAAA,GASQ,uBATD,SAEL,OAIK,0BAHHC,EAAAA,EAAAA,IAEKK,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAFcF,EAAAA,OAARM,K,WAAXT,EAAAA,EAAAA,IAEK,MAFsBM,IAAKG,EAAKE,IAAI,QACpC,QAAGF,EAAKE,IAAK,MAAE,QAAGF,EAAKU,OAAK,M,iBAE9B,KACL,QAAGhB,EAAAA,OAAQ,IACX,WAAsB,SAAnB,OAAG,QAAGK,EAAAA,OAAQ,IAAC,M,aAOxB,GACEY,OACE,MAAO,CACLC,MAAM,EACNC,OAAQ,GAERH,MAAO,GAEPI,OAAQ,GACRL,IAAK,EACLM,IAAK,EACLC,MAAO,GACPC,YAAa,EAEjB,EACAC,SAAU,CACRC,UACE,IAAIC,EAAQC,KAAKR,OAmBjB,OAlBIQ,KAAKZ,IAAM,IAEbW,EAAQA,EAAME,QAAO,CAACtB,EAAMC,IACnBD,EAAKO,MAAQc,KAAKZ,OAGzBY,KAAKN,IAAM,IAEbK,EAAQA,EAAME,QAAQtB,GACbA,EAAKO,MAAQc,KAAKN,OAGT,KAAhBM,KAAKP,SAEPM,EAAQA,EAAME,QAAQtB,GACbA,EAAKG,MAAMoB,SAASF,KAAKP,WAG7BM,CACT,EACAI,QACE,IAAIA,EAAQ,EACZ,IAAK,MAAMC,KAAcJ,KAAKF,QAC5BK,GAASH,KAAKX,MAAMe,GAAcJ,KAAKF,QAAQM,GAAY,SAE7D,OAAOC,SAASF,EAClB,GAEFG,MAAO,CAELH,MAAO,CACLI,QAAS,SAAUC,EAAQC,GACrBD,EAAS,KACXE,MAAM,QAEV,IAGJC,QAAS,CACPC,WAAW1B,GACT,MAAQ,OAAc,GAARA,CAChB,EACA2B,cACEb,KAAKT,MAAO,EACZuB,MAAM,sCACHC,MAAMC,GAAQA,EAAIC,SAClBF,MAAME,IACLjB,KAAKR,OAASyB,EAEd,IAAM,IAAItC,KAAQqB,KAAKF,QACrBE,KAAKX,MAAM6B,KAAK,GAElBlB,KAAKT,MAAO,EACZ4B,QAAQC,IAAI,SAAWpB,KAAKR,OAAO6B,OAAO,GAEhD,EACAC,SAAS1C,EAAOD,GACdqB,KAAKX,MAAMT,IAAU,EACrBoB,KAAKL,MAAM4B,OACXvB,KAAKL,MAAMuB,KAAK,CACdrC,GAAIF,EAAKE,GACTC,MAAOH,EAAKG,MACZI,MAAOP,EAAKO,MACZG,MAAO,GAEX,EACAmC,YAAY5C,EAAOD,GACbqB,KAAKX,MAAMT,IAAU,IACzBoB,KAAKX,MAAMT,IAAU,EAEvB,GAEF6C,UAEEzB,KAAKa,cACLM,QAAQC,IAAI,UAAYpB,KAAKR,OAAO6B,OACtC,EACAK,UACEP,QAAQC,IAAI,UAAYpB,KAAKR,OAAO6B,OACtC,EACAM,gBACEjB,MAAM,iBACNS,QAAQC,IAAI,gBACd,G,QCtIF,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://cgd103/./src/views/ProductView.vue","webpack://cgd103/./src/views/ProductView.vue?f743"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <main>\n      <header>\n        search: <input type=\"text\" v-model=\"search\" /><br />\n        <!-- {{search}} -->\n        $<input type=\"number\" v-model=\"min\" />-<input\n          type=\"number\"\n          v-model=\"max\"\n        />\n      </header>\n      <template v-if=\"load\">loading...</template>\n      <div v-else class=\"productContainer\">\n        <div v-for=\"(item, index) in product\" :key=\"item.id\" class=\"item\">\n          <p>{{ item.title }}</p>\n          <img :src=\"item.image\" v-bind:alt=\"item.title\" />\n          <p>{{ parsePrice(item.price) }}元</p>\n          <div>\n            <button v-on:click=\"reduceCount(index, item)\">-</button>\n            <input type=\"number\" min=\"0\" v-model=\"count[index]\" />\n            <button @click=\"addCount(index, item)\">+</button>\n          </div>\n        </div>\n      </div>\n    </main>\n    <aside>\n      訂單\n      <ul>\n        <li v-for=\"item in order\" :key=\"item.id\">\n          ID:{{ item.id }}: {{ item.count }}\n        </li>\n      </ul>\n      {{ order }}\n      <p>總計：{{ total }}元</p>\n    </aside>\n  </div>\n</template>\n   <script>\n\n\nexport default {\n  data() {\n    return {\n      load: false,\n      source: [],\n      // product: [],\n      count: [],\n      // total: 0,\n      search: \"\",\n      min: 0,\n      max: 0,\n      order: [],\n      sourceCount: 0,\n    };\n  },\n  computed: {\n    product() {\n      let cache = this.source;\n      if (this.min > 0) {\n        //篩選最小價錢\n        cache = cache.filter((item, index) => {\n          return item.price > this.min;\n        });\n      }\n      if (this.max > 0) {\n        //篩選最大價錢\n        cache = cache.filter((item) => {\n          return item.price < this.max;\n        });\n      }\n      if (this.search !== \"\") {\n        //篩選相符標題\n        cache = cache.filter((item) => {\n          return item.title.includes(this.search);\n        });\n      }\n      return cache;\n    },\n    total() {\n      let total = 0;\n      for (const countIndex in this.product) {\n        total += this.count[countIndex] * this.product[countIndex][\"price\"];\n      }\n      return parseInt(total);\n    },\n  },\n  watch: {\n    //監聽data或computed\n    total: {\n      handler: function (newVal, oldVal) {\n        if (newVal > 1000) {\n          alert(\"你要餓死了\");\n        }\n      },\n    },\n  },\n  methods: {\n    parsePrice(price) {\n      return `TWD ${price * 33}`;\n    },\n    getResource() {\n      this.load = true;\n      fetch(\"https://fakestoreapi.com/products/\")\n        .then((res) => res.json())\n        .then((json) => {\n          this.source = json;\n          //初始化商品數量\n          for ( let item in this.product) {\n            this.count.push(0);\n          }\n          this.load = false;\n          console.log(\"method\" + this.source.length);\n        });\n    },\n    addCount(index, item) {\n      this.count[index] += 1;\n      this.order.find();\n      this.order.push({\n        id: item.id,\n        title: item.title,\n        price: item.price,\n        count: 1,\n      });\n    },\n    reduceCount(index, item) {\n      if (this.count[index] <= 0) return;\n      this.count[index] -= 1;\n      // this.order.splice(index,1)\n    },\n  },\n  created() {\n    //created: Vue實體被建立完\n    this.getResource();\n    console.log(\"created\" + this.source.length);\n  },\n  mounted() {\n    console.log(\"mounted\" + this.source.length);\n  },\n  beforeUnmount() {\n    alert(\"beforeUnmount\");\n    console.log(\"beforeUnmount\");\n  },\n}\n\n\n</script>\n\n     <style>\n* {\n  box-sizing: border-box;\n}\n.wrapper {\n  display: flex;\n  flex-wrap: wrap;\n}\nmain {\n  width: 85%;\n  border: 1px #aaa solid;\n  /* overflow: scroll; */\n}\naside {\n  width: 15%;\n  border: 1px #aaa solid;\n}\nimg {\n  height: 5rem;\n}\n.productContainer {\n  display: flex;\n  flex-wrap: wrap;\n}\n.item {\n  width: 25%;\n  border: 1px #ddd solid;\n}\n</style>\n","import { render } from \"./ProductView.vue?vue&type=template&id=0375cd7a\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductView.vue?vue&type=style&index=0&id=0375cd7a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Tibame_T14\\\\Desktop\\\\01\\\\cgd103\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","type","$data","_hoisted_2","_Fragment","key","_hoisted_3","$options","item","index","id","title","src","image","alt","price","onClick","min","count","data","load","source","search","max","order","sourceCount","computed","product","cache","this","filter","includes","total","countIndex","parseInt","watch","handler","newVal","oldVal","alert","methods","parsePrice","getResource","fetch","then","res","json","push","console","log","length","addCount","find","reduceCount","created","mounted","beforeUnmount","__exports__","render"],"sourceRoot":""}