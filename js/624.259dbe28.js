"use strict";(self["webpackChunkcgd103"]=self["webpackChunkcgd103"]||[]).push([[624],{3624:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var o=n(3396),l=n(9242),r=n(7139);const u={class:"wrapper"},i=(0,o._)("br",null,null,-1),c={key:1,class:"productContainer"},s=["src","alt"],a=["onClick"],d=["onUpdate:modelValue"],h=["onClick"];function p(t,e,n,p,m,g){return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("main",null,[(0,o._)("header",null,[(0,o.Uk)(" search: "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>m.search=t)},null,512),[[l.nr,m.search]]),i,(0,o.Uk)(" $"),(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>m.min=t)},null,512),[[l.nr,m.min]]),(0,o.Uk)("-"),(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>m.max=t)},null,512),[[l.nr,m.max]])]),m.load?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)("loading...")],64)):((0,o.wg)(),(0,o.iD)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.product,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"item"},[(0,o._)("p",null,(0,r.zw)(t.title),1),(0,o._)("img",{src:t.image,alt:t.title},null,8,s),(0,o._)("p",null,(0,r.zw)(g.parsePrice(t.price))+"元",1),(0,o._)("div",null,[(0,o._)("button",{onClick:n=>g.reduceCount(e,t)},"-",8,a),(0,o.wy)((0,o._)("input",{type:"number",min:"0","onUpdate:modelValue":t=>m.count[e]=t},null,8,d),[[l.nr,m.count[e]]]),(0,o._)("button",{onClick:n=>g.addCount(e,t)},"+",8,h)])])))),128))]))]),(0,o._)("aside",null,[(0,o.Uk)(" 訂單 "),(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.order,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id}," ID:"+(0,r.zw)(t.id)+": "+(0,r.zw)(t.count),1)))),128))]),(0,o.Uk)(" "+(0,r.zw)(m.order)+" ",1),(0,o._)("p",null,"總計："+(0,r.zw)(g.total)+"元",1)])])}n(7658);var m={data(){return{load:!1,source:[],count:[],search:"",min:0,max:0,order:[],sourceCount:0}},computed:{product(){let t=this.source;return this.min>0&&(t=t.filter(((t,e)=>t.price>this.min))),this.max>0&&(t=t.filter((t=>t.price<this.max))),""!==this.search&&(t=t.filter((t=>t.title.includes(this.search)))),t},total(){let t=0;for(const e in this.product)t+=this.count[e]*this.product[e]["price"];return parseInt(t)}},watch:{total:{handler:function(t,e){t>1e3&&alert("你要餓死了")}}},methods:{parsePrice(t){return"TWD "+33*t},getResource(){this.load=!0,fetch("https://fakestoreapi.com/products/").then((t=>t.json())).then((t=>{this.source=t;for(let e in this.product)this.count.push(0);this.load=!1,console.log("method"+this.source.length)}))},addCount(t,e){this.count[t]+=1,this.order.find(),this.order.push({id:e.id,title:e.title,price:e.price,count:1})},reduceCount(t,e){this.count[t]<=0||(this.count[t]-=1)}},created(){this.getResource(),console.log("created"+this.source.length)},mounted(){console.log("mounted"+this.source.length)},beforeUnmount(){alert("beforeUnmount"),console.log("beforeUnmount")}},g=n(89);const w=(0,g.Z)(m,[["render",p]]);var k=w}}]);
//# sourceMappingURL=624.259dbe28.js.map